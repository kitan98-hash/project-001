<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Google Sheet 연동</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background:#fafafa;
        }
        .item {
            border-bottom: 1px solid #ddd;
            padding: 12px 0;
        }
        .item img {
            max-width: 240px;
            display: block;
            margin-top: 8px;
            border-radius: 8px;
        }
    </style>
</head>
<body>

<h1>스프레드시트 데이터</h1>
<div id="list">불러오는 중...</div>

<script>
const SHEET_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQj502UJ7RPuSmXEAGx6d5W4O9JKxrcz-zL7afDTJXOEYLOa2K1Tjw3118RrpNBjfjPNF0eV4s15BZX/pub?gid=0&single=true&output=csv";

fetch(SHEET_URL)
    .then(res => res.text())
    .then(text => {
        const rows = text.trim().split("\n");
        rows.shift(); // header 제거

        const list = document.getElementById("list");
        list.innerHTML = "";

        rows.forEach(row => {
            const cols = row.split(",");

            const item = document.createElement("div");
            item.className = "item";
            item.innerHTML = `
                <h3>${cols[0] || ""}</h3>
                <p>${cols[1] || ""}</p>
                ${cols[2] ? `<img src="${cols[2]}" />` : ""}
            `;
            list.appendChild(item);
        });
    })
    .catch(err => {
        document.getElementById("list").innerText = "데이터를 불러오지 못했습니다.";
        console.error(err);
    });
</script>

</body>
</html>
